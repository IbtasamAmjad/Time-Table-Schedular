{"ast":null,"code":"var _jsxFileName = \"E:\\\\f\\\\Semester Works\\\\4rth Semester\\\\Analysis of Algorithms\\\\myProj\\\\CS311S20PID25\\\\timetable_frontend\\\\src\\\\timeTableInput\\\\courses.jsx\";\nimport React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport SendIcon from '@material-ui/icons/Send';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport { toast } from \"react-toastify\"; // styling of input field\n\nconst CssTextField = withStyles({\n  root: {\n    '& label.Mui-focused': {\n      color: 'green'\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: 'green'\n    },\n    '& .MuiOutlinedInput-root': {\n      '& fieldset': {\n        borderColor: '#0f9ac4'\n      },\n      '&:hover fieldset': {\n        borderColor: '#202d42'\n      },\n      '&.Mui-focused fieldset': {\n        borderColor: 'green'\n      }\n    }\n  }\n})(TextField);\n\nclass Courses extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      courses: [{\n        name: '',\n        session: '',\n        teacher: '',\n        crHouurs: ''\n      }],\n      //courses array in state to save the result and handling input fields\n      width: 0,\n      height: 0,\n      marginLeftTextField: 0,\n      buttonDisabled: true //handling button disable or enable with boolean\n\n    };\n\n    this.sumbitButtonConstraint = courses => {\n      let count = 0;\n      courses.map((course, i) => {\n        if (!course.name || !course.session || !course.teacher || !course.crHouurs) {\n          count++;\n        }\n      });\n\n      if (count) {\n        this.setState({\n          buttonDisabled: true\n        });\n      } else {\n        this.setState({\n          buttonDisabled: false\n        });\n      }\n    };\n\n    this.checkUniqueArray = courses => {\n      let singleArray = [];\n      courses.map(course => {\n        singleArray.push(course.name);\n      });\n      let hasDuplicate = singleArray.some((val, i) => singleArray.indexOf(val) !== i);\n\n      if (hasDuplicate) {\n        this.setState({\n          buttonDisabled: true\n        });\n        toast.error('please enter unique name');\n      }\n    };\n\n    this.checkEmptyField = courses => {\n      let totalCounter = 0;\n      courses.map((course, i) => {\n        let emptyCounter = 0;\n\n        for (let j = 0; j < course.name.length; j++) {\n          if (course.name[j] === \" \") {\n            emptyCounter++;\n          }\n        }\n\n        if (course.name.length === emptyCounter) {\n          totalCounter++;\n        }\n      });\n\n      if (totalCounter > 0) {\n        this.setState({\n          buttonDisabled: true\n        });\n      }\n    };\n\n    this.maxLengthConstraint = courses => {\n      courses.map((course, i) => {\n        if (course.name.length > 12) {\n          this.setState({\n            buttonDisabled: true\n          });\n          toast.error(\"Only 12 characters are allowed in course name\");\n        }\n      });\n    };\n\n    this.handleChange = (e, i, j) => {\n      const crditHourArray = [[1, 1, 1], [1, 2], [2, 1], [3], [1, 1], [2], [1]]; //avaiable credit hourse options\n\n      const courses = [...this.state.courses];\n      const name = e.target.name; //feild name from input feild\n\n      let value = e.target.value; //input value from input feild\n\n      if (name === \"crHouurs\") {\n        //if feild is creditHours then \n        value = crditHourArray[value];\n      }\n\n      courses[i][name] = value;\n      this.setState({\n        courses\n      });\n      this.sumbitButtonConstraint(courses); //checking that input feild should have value \n\n      this.checkUniqueArray(courses); //cheking uniquness of input feild (course name should unique)\n\n      this.checkEmptyField(courses); // checking white space in input field\n\n      this.maxLengthConstraint(courses); // checking maximum length in input field\n    };\n\n    this.addMoreField = () => {\n      const courses = [...this.state.courses, {\n        name: '',\n        session: '',\n        teacher: '',\n        crHouurs: ''\n      }];\n      this.setState({\n        courses\n      });\n      this.sumbitButtonConstraint(courses); //disabling the submit button because here input feild will not have value\n\n      this.checkEmptyField(courses); // checking white space in input field\n\n      this.maxLengthConstraint(courses); // checking maximum length in input field\n    };\n\n    this.handleSubmit = () => {\n      const courses = [...this.state.courses]; //getting latest values from the state\n      // if any value of input feild is empty, then removing it from courses array\n\n      courses.map((course, i) => {\n        if (!course.name || !course.session || !course.teacher || !course.crHouurs) {\n          courses.splice(i, 1);\n        }\n      }); // sorting the course according to first index of credit hourse in descending order \n\n      for (let i = 1; i < courses.length; ++i) {\n        for (let j = 0; j < courses.length - i; ++j) if (courses[j].crHouurs[0] < courses[j + 1].crHouurs[0]) {\n          let temp = courses[j];\n          courses[j] = courses[j + 1];\n          courses[j + 1] = temp;\n        }\n      }\n\n      this.props.onCourses(courses); //calling function from parent component that is App and sending final result\n\n      this.props.history.push(\"/home/table\"); //going to forward to next page by changing the url\n    };\n\n    this.handleRemove = i => {\n      const courses = [...this.state.courses];\n\n      if (courses.length > 1) {\n        courses.splice(i, 1);\n        this.setState({\n          courses\n        });\n      } else {\n        toast.error('Add atleast one Course');\n      }\n\n      this.sumbitButtonConstraint(courses);\n      this.checkEmptyField(courses); // checking white space in input field\n\n      this.maxLengthConstraint(courses); // checking maximum length in input field\n    };\n\n    this.setMarginLeft = () => {\n      if (window.innerWidth <= 700) {\n        this.setState({\n          marginLeftTextField: 20\n        });\n      } else {\n        this.setState({\n          marginLeftTextField: 0\n        });\n      }\n    };\n\n    this.updateDimensions = i => {\n      this.setState({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n\n      if (i === 1) {\n        this.setMarginLeft();\n      }\n    };\n  }\n\n  // will be called when component mount this is to handle some styling by the size of application\n  componentDidMount() {\n    window.addEventListener('resize', () => this.updateDimensions(1)); //adding event listner of resize to detech the size change of application\n\n    this.setMarginLeft(); //calling function if size of application is changed\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', () => this.updateDimensions(0)); //removing listner\n\n    this.setMarginLeft(); //calling function if size of application is changed\n  } // ***** end_1 *****\n  // interface of this component\n\n\n  render() {\n    const {\n      courses,\n      buttonDisabled,\n      marginLeftTextField\n    } = this.state;\n    const {\n      onTeachersName,\n      onSessionsName\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      noValidate: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      row: true,\n      alignItems: \"center\",\n      item: true,\n      xs: 12,\n      style: {\n        marginTop: 60\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }\n    }, courses.map((course, i) => {\n      {\n        /* to handle the credit Hourse in select during selection */\n      }\n      let crditValue = '';\n\n      if (course.crHouurs.length === 3) {\n        crditValue = 0;\n      } else if (course.crHouurs[0] === 1 && course.crHouurs[1] === 2) {\n        crditValue = 1;\n      } else if (course.crHouurs[0] === 2 && course.crHouurs[1] === 1) {\n        crditValue = 2;\n      } else if (course.crHouurs[0] === 3) {\n        crditValue = 3;\n      } else if (course.crHouurs[0] === 1 && course.crHouurs[1] === 1) {\n        crditValue = 4;\n      } else if (course.crHouurs[0] === 2) {\n        crditValue = 5;\n      } else if (course.crHouurs[0] === 1) {\n        crditValue = 6;\n      }\n\n      return /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        key: i,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"center\",\n        item: true,\n        xs: 8,\n        style: {\n          marginTop: 50,\n          marginLeft: 80\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"flex-end\",\n        alignItems: \"center\",\n        item: true,\n        sm: 2,\n        style: {\n          marginLeft: marginLeftTextField * -14,\n          marginRight: marginLeftTextField * -1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        onClick: () => this.handleRemove(i),\n        style: {\n          backgroundColor: \"#0f9ac4\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 41\n        }\n      }, \"X\")), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"center\",\n        item: true,\n        sm: 3,\n        style: {\n          marginLeft: 30,\n          marginRight: -marginLeftTextField * 4\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(CssTextField, {\n        label: `Course-${i + 1} Name`,\n        variant: \"outlined\",\n        id: \"custom-css-outlined-input\",\n        value: course.name,\n        name: \"name\",\n        onChange: e => this.handleChange(e, i),\n        size: \"small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 41\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"center\",\n        item: true,\n        sm: 2,\n        style: {\n          marginTop: marginLeftTextField\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Select, {\n        labelId: \"demo-simple-select-label\",\n        id: \"demo-simple-select\",\n        value: course.session,\n        name: \"session\",\n        onChange: e => this.handleChange(e, i),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 45\n        }\n      }, onSessionsName.map(session => {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          value: session,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 65\n          }\n        }, session);\n      })), /*#__PURE__*/React.createElement(FormHelperText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 45\n        }\n      }, \"Select Class\"))), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"center\",\n        item: true,\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Select, {\n        labelId: \"demo-simple-select-label\",\n        id: \"demo-simple-select\",\n        value: course.teacher,\n        name: \"teacher\",\n        onChange: e => this.handleChange(e, i),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 45\n        }\n      }, onTeachersName.map(teacher => {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          value: teacher,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 65\n          }\n        }, teacher);\n      })), /*#__PURE__*/React.createElement(FormHelperText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 45\n        }\n      }, \"Select Teacher\"))), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"center\",\n        item: true,\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Select, {\n        labelId: \"demo-simple-select-label\",\n        id: \"demo-simple-select\",\n        value: crditValue,\n        name: \"crHouurs\",\n        onChange: e => this.handleChange(e, i),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(MenuItem, {\n        value: 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 49\n        }\n      }, \"1, 1, 1\"), /*#__PURE__*/React.createElement(MenuItem, {\n        value: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 49\n        }\n      }, \"1, 2\"), /*#__PURE__*/React.createElement(MenuItem, {\n        value: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 49\n        }\n      }, \"2, 1\"), /*#__PURE__*/React.createElement(MenuItem, {\n        value: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 49\n        }\n      }, \"3\"), \" \", /*#__PURE__*/React.createElement(MenuItem, {\n        value: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 49\n        }\n      }, \"1, 1\"), /*#__PURE__*/React.createElement(MenuItem, {\n        value: 5,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 49\n        }\n      }, \"2\"), /*#__PURE__*/React.createElement(MenuItem, {\n        value: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 49\n        }\n      }, \"1\")), /*#__PURE__*/React.createElement(FormHelperText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 45\n        }\n      }, \"Select Credit Hourse\"))));\n    }), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"flex-start\",\n      alignItems: \"flex-start\",\n      item: true,\n      sm: 2,\n      style: {\n        marginTop: 40,\n        marginLeft: marginLeftTextField * 7\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: {\n        backgroundColor: \"#2a3547\",\n        color: \"#d0d6e0\"\n      },\n      onClick: this.addMoreField,\n      variant: \"contained\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 25\n      }\n    }, \"Add more\"))), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"center\",\n      alignItems: \"center\",\n      item: true,\n      xs: 12,\n      style: {\n        marginTop: 40\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      style: {\n        backgroundColor: buttonDisabled ? \"#e0e0e0\" : '#2a3547',\n        color: buttonDisabled ? \"#c0cad8\" : \"#d0d6e0\"\n      },\n      endIcon: /*#__PURE__*/React.createElement(SendIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 34\n        }\n      }, \"send\"),\n      onClick: this.handleSubmit,\n      disabled: buttonDisabled,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 21\n      }\n    }, \"Submit and Next\")));\n  }\n\n}\n\nexport default Courses;","map":{"version":3,"sources":["E:/f/Semester Works/4rth Semester/Analysis of Algorithms/myProj/CS311S20PID25/timetable_frontend/src/timeTableInput/courses.jsx"],"names":["React","Component","withStyles","TextField","Button","Grid","SendIcon","Select","MenuItem","FormHelperText","FormControl","toast","CssTextField","root","color","borderBottomColor","borderColor","Courses","state","courses","name","session","teacher","crHouurs","width","height","marginLeftTextField","buttonDisabled","sumbitButtonConstraint","count","map","course","i","setState","checkUniqueArray","singleArray","push","hasDuplicate","some","val","indexOf","error","checkEmptyField","totalCounter","emptyCounter","j","length","maxLengthConstraint","handleChange","e","crditHourArray","target","value","addMoreField","handleSubmit","splice","temp","props","onCourses","history","handleRemove","setMarginLeft","window","innerWidth","updateDimensions","innerHeight","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","render","onTeachersName","onSessionsName","marginTop","crditValue","marginLeft","marginRight","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport {toast} from \"react-toastify\";\r\n\r\n// styling of input field\r\nconst CssTextField = withStyles({\r\n  root: {\r\n    '& label.Mui-focused': {\r\n      color: 'green',\r\n    },\r\n    '& .MuiInput-underline:after': {\r\n      borderBottomColor: 'green',\r\n    },\r\n    '& .MuiOutlinedInput-root': {\r\n      '& fieldset': {\r\n        borderColor: '#0f9ac4',\r\n      },\r\n      '&:hover fieldset': {\r\n        borderColor: '#202d42',\r\n      },\r\n      '&.Mui-focused fieldset': {\r\n        borderColor: 'green',\r\n      },\r\n    },\r\n  },\r\n})(TextField);\r\n\r\n\r\nclass Courses extends Component {\r\n\r\n    state = {\r\n        courses: [\r\n            {name: '', session: '', teacher: '', crHouurs: ''}\r\n        ],  //courses array in state to save the result and handling input fields\r\n        width: 0, height: 0,\r\n        marginLeftTextField: 0,\r\n        buttonDisabled: true    //handling button disable or enable with boolean\r\n    }\r\n\r\n    // handling submit button: disable button if input feild do not have value\r\n    sumbitButtonConstraint = (courses) => {\r\n        let count = 0;\r\n        courses.map((course, i) => {\r\n            if(!course.name || !course.session || !course.teacher || !course.crHouurs){\r\n                count++;\r\n            }\r\n        })\r\n\r\n        if(count){\r\n            this.setState({buttonDisabled: true})\r\n        }else{\r\n            this.setState({buttonDisabled: false})\r\n        }\r\n    }\r\n\r\n    // checking that every input feild should have unique value mean course name should unique\r\n    checkUniqueArray = (courses) => {\r\n        let singleArray = [];\r\n\r\n        courses.map(course => {\r\n            singleArray.push(course.name);\r\n        })\r\n\r\n        let hasDuplicate = singleArray.some((val, i) => singleArray.indexOf(val) !== i);\r\n        if(hasDuplicate){\r\n            this.setState({buttonDisabled: true})\r\n            toast.error('please enter unique name')\r\n        }\r\n    }\r\n\r\n\r\n    // handling the input fields with white space\r\n    checkEmptyField = (courses) => {\r\n        let totalCounter = 0;\r\n        courses.map((course, i) => {\r\n            let emptyCounter = 0;\r\n            for(let j = 0; j < course.name.length; j++){\r\n                if(course.name[j] === \" \"){\r\n                    emptyCounter++;\r\n                }\r\n            }\r\n            if(course.name.length === emptyCounter){\r\n                totalCounter++;\r\n            }\r\n        })\r\n        \r\n        if(totalCounter > 0){           \r\n            this.setState({buttonDisabled: true})            \r\n        }\r\n    }\r\n\r\n    // handling the maximum length of input field\r\n    maxLengthConstraint = (courses) => {\r\n        courses.map((course, i) => {\r\n            if(course.name.length > 12){\r\n                this.setState({buttonDisabled: true}) \r\n                toast.error(\"Only 12 characters are allowed in course name\");    \r\n            }\r\n        })\r\n    }\r\n\r\n\r\n// handling change in input feild and update in courses acordingly to show in input feild\r\n    handleChange = (e, i, j) => {\r\n        const crditHourArray = [[1, 1, 1], [1, 2], [2, 1], [3], [1, 1], [2], [1]];  //avaiable credit hourse options\r\n\r\n        const courses = [...this.state.courses]\r\n        const name = e.target.name; //feild name from input feild\r\n\r\n        let value = e.target.value; //input value from input feild\r\n\r\n        if(name === \"crHouurs\"){    //if feild is creditHours then \r\n            value = crditHourArray[value];\r\n        }\r\n\r\n        courses[i][name] = value;\r\n        this.setState({courses})\r\n\r\n        this.sumbitButtonConstraint(courses);   //checking that input feild should have value \r\n\r\n        this.checkUniqueArray(courses);     //cheking uniquness of input feild (course name should unique)\r\n\r\n        this.checkEmptyField(courses);           // checking white space in input field\r\n\r\n        this.maxLengthConstraint(courses);           // checking maximum length in input field\r\n\r\n\r\n    }\r\n\r\n    // this function will add input feild if called\r\n    addMoreField = () => {\r\n        const courses = [...this.state.courses, {name: '', session: '', teacher: '', crHouurs: ''}];\r\n        this.setState({courses});\r\n\r\n        this.sumbitButtonConstraint(courses);   //disabling the submit button because here input feild will not have value\r\n        \r\n        this.checkEmptyField(courses);           // checking white space in input field\r\n\r\n        this.maxLengthConstraint(courses);           // checking maximum length in input field\r\n\r\n    }\r\n\r\n    // this function will be called when submit button will be clicked\r\n    handleSubmit = () => {\r\n        const courses = [...this.state.courses];     //getting latest values from the state\r\n        \r\n        // if any value of input feild is empty, then removing it from courses array\r\n        courses.map((course, i) => {\r\n            if(!course.name || !course.session || !course.teacher || !course.crHouurs){\r\n                courses.splice(i, 1);\r\n            }\r\n        })\r\n        \r\n        // sorting the course according to first index of credit hourse in descending order \r\n        for(let i = 1; i < courses.length; ++i){\r\n            for(let j = 0; j < (courses.length - i); ++j)\r\n                if(courses[j].crHouurs[0] < courses[j+1].crHouurs[0]){\r\n                    \r\n                    let temp = courses[j];\r\n                    courses[j] = courses[j+1];\r\n                    courses[j+1] = temp;\r\n                }\r\n        }\r\n\r\n        this.props.onCourses(courses);  //calling function from parent component that is App and sending final result\r\n        this.props.history.push(\"/home/table\"); //going to forward to next page by changing the url\r\n    }\r\n\r\n    // if input feild added by mistake with this function that can be removed by pressing the X button this function will be called\r\n    handleRemove = (i) => {\r\n        const courses = [...this.state.courses];\r\n        if(courses.length > 1){\r\n            courses.splice(i, 1);\r\n            this.setState({courses})\r\n        }else{\r\n            toast.error('Add atleast one Course')\r\n        }\r\n\r\n        this.sumbitButtonConstraint(courses);\r\n\r\n        this.checkEmptyField(courses);           // checking white space in input field\r\n\r\n        this.maxLengthConstraint(courses);           // checking maximum length in input field\r\n\r\n\r\n    }\r\n\r\n// handling some styling that can be affected by the resizing of application   ***** start_1 ***** \r\n    setMarginLeft = () => {\r\n        if(window.innerWidth <= 700){\r\n            this.setState({marginLeftTextField: 20})\r\n        }else{\r\n            this.setState({marginLeftTextField: 0})\r\n        }\r\n    }\r\n     // updaing dimension if size of application is chanegs\r\n    updateDimensions = (i) => {\r\n        this.setState({ width: window.innerWidth, height: window.innerHeight });\r\n        if(i === 1){\r\n            this.setMarginLeft();\r\n        }\r\n    };\r\n    \r\n    // will be called when component mount this is to handle some styling by the size of application\r\n    componentDidMount() {\r\n        window.addEventListener('resize', () => this.updateDimensions(1));  //adding event listner of resize to detech the size change of application\r\n        this.setMarginLeft();    //calling function if size of application is changed\r\n        \r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', () => this.updateDimensions(0));    //removing listner\r\n        this.setMarginLeft();    //calling function if size of application is changed\r\n    }\r\n\r\n                                                                              // ***** end_1 *****\r\n    // interface of this component\r\n    render(){\r\n        const {courses, buttonDisabled, marginLeftTextField} = this.state;\r\n        const {onTeachersName, onSessionsName} = this.props;\r\n        return (\r\n            <form noValidate>\r\n                <Grid container row alignItems=\"center\" item xs={12} style={{marginTop: 60}}>\r\n                    \r\n                    {/* maping to courses array to render all input feilds in courses*/}\r\n                    {\r\n                        courses.map((course, i) => {\r\n\r\n                             {/* to handle the credit Hourse in select during selection */}\r\n                            let crditValue = '';\r\n                            if(course.crHouurs.length === 3){\r\n                                crditValue = 0;\r\n                            }else if(course.crHouurs[0] === 1 && course.crHouurs[1] === 2){\r\n                                crditValue = 1;\r\n                            }else if(course.crHouurs[0] === 2 && course.crHouurs[1] === 1){\r\n                                crditValue = 2;\r\n                            }else if(course.crHouurs[0] === 3){\r\n                                crditValue = 3;\r\n                            }else if(course.crHouurs[0] === 1 && course.crHouurs[1] === 1){\r\n                                crditValue = 4;\r\n                            }else if(course.crHouurs[0] === 2){\r\n                                crditValue = 5;\r\n                            }else if(course.crHouurs[0] === 1){\r\n                                crditValue = 6;\r\n                            }\r\n                                \r\n\r\n                            return (\r\n                                <Grid container key = {i} direction=\"row\" justify=\"center\" alignItems=\"center\" item xs={8} style={{marginTop: 50, marginLeft: 80}}>  \r\n                                    <Grid  container direction=\"row\" justify=\"flex-end\" alignItems=\"center\" item sm={2} style={{marginLeft: marginLeftTextField * -14, marginRight: marginLeftTextField * -1}}>                                  \r\n                                        \r\n                                        {/* to remove the input feild by passing the index of feild */}\r\n                                        <Button\r\n                                            variant=\"contained\"\r\n                                            color=\"secondary\"\r\n                                            onClick = {() => this.handleRemove(i)}\r\n                                            style={{backgroundColor: \"#0f9ac4\"}}\r\n                                        >\r\n                                            X\r\n                                        </Button>\r\n                                    </Grid>\r\n\r\n                                    <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" item sm={3} style={{marginLeft: 30, marginRight: -marginLeftTextField * 4}}>                                    \r\n                                        \r\n                                        {/* input feilds here calling the handleChange method to handle input value*/}\r\n                                        <CssTextField\r\n                                            label = {`Course-${i+1} Name`}\r\n                                            variant = \"outlined\"\r\n                                            id = \"custom-css-outlined-input\"\r\n                                            value = {course.name}\r\n                                            name = \"name\"\r\n                                            onChange = {(e) => this.handleChange(e, i)}\r\n                                            size=\"small\"\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" item sm={2} style={{marginTop: marginLeftTextField}} >\r\n                                        <FormControl>\r\n                                            {/* select class from already entered classes */}\r\n                                            <Select\r\n                                                labelId=\"demo-simple-select-label\"\r\n                                                id=\"demo-simple-select\"\r\n                                                value={course.session}\r\n                                                name = \"session\"\r\n                                                onChange={(e) => this.handleChange(e, i)}\r\n                                                >\r\n                                                {\r\n                                                    onSessionsName.map(session => {\r\n                                                        return (<MenuItem value={session}>{session}</MenuItem>);\r\n                                                    })\r\n                                                }\r\n                                            </Select>\r\n                                            <FormHelperText>Select Class</FormHelperText>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n                                    <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" item sm={2} >\r\n                                        <FormControl>\r\n                                            {/* select teacher from already entered teachers */}\r\n                                            <Select\r\n                                                labelId=\"demo-simple-select-label\"\r\n                                                id=\"demo-simple-select\"\r\n                                                value={course.teacher}\r\n                                                name = \"teacher\"\r\n                                                onChange={(e) => this.handleChange(e, i)}\r\n                                                >\r\n                                                {\r\n                                                    onTeachersName.map(teacher => {\r\n                                                        return (<MenuItem value={teacher}>{teacher}</MenuItem>);\r\n                                                    })\r\n                                                }\r\n                                            </Select>\r\n                                            <FormHelperText>Select Teacher</FormHelperText>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n                                    <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" item sm={2} >\r\n                                        <FormControl>\r\n                                            {/* select credit hour pattern from avaibale credit hourse \r\n                                                slect 1,1,1, if no consective lecture restriction and \r\n                                                select 3 if want to have consective three lectures\r\n                                            */}\r\n                                            <Select\r\n                                                labelId=\"demo-simple-select-label\"\r\n                                                id=\"demo-simple-select\"\r\n                                                value={crditValue}\r\n                                                name = \"crHouurs\"\r\n                                                onChange={(e) => this.handleChange(e, i)}\r\n                                                >\r\n                                                <MenuItem value = {0} >1, 1, 1</MenuItem>   \r\n                                                <MenuItem value = {1} >1, 2</MenuItem>\r\n                                                <MenuItem value = {2} >2, 1</MenuItem>\r\n                                                <MenuItem value = {3} >3</MenuItem> {/* mean consective three crdit hours */}\r\n\r\n                                                <MenuItem value = {4} >1, 1</MenuItem>\r\n                                                <MenuItem value = {5} >2</MenuItem>\r\n                                                <MenuItem value = {6} >1</MenuItem>\r\n                                            </Select>\r\n                                            <FormHelperText>Select Credit Hourse</FormHelperText>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            );\r\n                        })\r\n                    }\r\n                         <Grid container\r\n                            direction=\"row\"\r\n                            justify=\"flex-start\"\r\n                            alignItems=\"flex-start\" \r\n                            item sm={2}\r\n                            style={{marginTop: 40, marginLeft: marginLeftTextField * 7}}\r\n                        >\r\n                        {/* butto to add more feilds by calling the addMoreFeild method */}\r\n                        <Button style={{backgroundColor: \"#2a3547\", color: \"#d0d6e0\"}} onClick={this.addMoreField} variant=\"contained\">\r\n                            Add more\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid container\r\n                    direction=\"row\"\r\n                    justify=\"center\"\r\n                    alignItems=\"center\" \r\n                    item xs={12}\r\n                    style={{ marginTop: 40}}\r\n                >\r\n                    {/* submit button to submit current feilds and to go to next step */}\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        style={{backgroundColor: buttonDisabled ? \"#e0e0e0\":'#2a3547', color: buttonDisabled ? \"#c0cad8\" : \"#d0d6e0\"}}\r\n                        endIcon={<SendIcon>send</SendIcon>}\r\n                        onClick = {this.handleSubmit}\r\n                        disabled = {buttonDisabled}\r\n                    >\r\n                    Submit and Next\r\n                    </Button>\r\n                </Grid>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Courses;"]},"metadata":{},"sourceType":"module"}